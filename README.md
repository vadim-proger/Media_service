# Media_service
API для загрузки файлов, разработанное на основе FastAPI. API позволяет загружать файлы, сохранять их на сервере, сохранять метаданные в базе данных, а также загружать файлы в облачное хранилище.

## Настройка окружения

1. Создайте файл `.env` в корне проекта и добавьте в него следующие переменные:
    ```env
    DB_HOST=localhost
    DB_USER=user
    DB_SECRET_KEY=key
    DB_NAME=name
    DB_PORT=5432

    UPLOAD_DIR=SOME_DIR
    ```

## Запуск проекта

1. Примените миграции базы данных:
    ```bash
    alembic upgrade head
    ```
2. Запустите сервер:
    ```bash
    uvicorn app.main:app --reload
    ```

## Структура проекта

Краткое описание основных папок и файлов проекта:

- `app/` - Основная директория с кодом приложения.
  - `main.py` - Точка входа в приложение.
  - `database.py` - Конфигурация базы данных и функции для работы с ней.
  - `models.py` - Определение моделей базы данных.
  - `schemas.py` - Схемы данных для валидации и сериализации.
  - `router.py` - Маршруты приложения.
  - `services.py` - Вспомагательные функции и бизнес логика.
  - `config.py` - Файл конфигурации.
- `migrations/` - Миграции.
- `tests/` - Тесты.

## Тестирование

Для запуска тестов используйте команду:
```bash
pytest
